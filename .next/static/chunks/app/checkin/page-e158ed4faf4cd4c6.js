(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{7406:function(e,n,t){Promise.resolve().then(t.bind(t,7709))},7709:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var r=t(2841),a=t(9790),s=t(8114),c=t(2729);function i(){let e=(0,s.useSearchParams)().get("token")||"",[n,t]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{e&&(l(!0),fetch("/api/checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then(async e=>{let n=await e.json();e.ok?t(n.already?"✅ J\xe1 estava presente":"✅ Presen\xe7a registada"):t("❌ "+(n.error||"Falha no check-in"))}).catch(()=>t("❌ Falha no check-in")).finally(()=>l(!1)))},[e]),(0,r.jsx)("div",{className:"container-page py-8",children:(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Check-in"})}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Se chegou aqui atrav\xe9s do seu QR de convidado, aguarde a valida\xe7\xe3o."}),(0,r.jsx)("div",{className:"text-lg",children:i?"A validar...":n}),(0,r.jsx)("a",{href:"/",className:"underline text-sm text-gray-600",children:"Voltar"})]})]})})}},2729:function(e,n,t){"use strict";t.d(n,{Ol:function(){return c},Zb:function(){return s},aY:function(){return l},ll:function(){return i}});var r=t(2841);t(9790);var a=t(870);function s(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("rounded-2xl border border-gray-200 bg-white shadow-soft",n),...t})}function c(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("p-4 border-b border-gray-100",n),...t})}function i(e){let{className:n,...t}=e;return(0,r.jsx)("h3",{className:(0,a.cn)("text-lg font-semibold",n),...t})}function l(e){let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("p-4",n),...t})}},870:function(e,n,t){"use strict";t.d(n,{cn:function(){return a}});var r=t(7927);function a(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.m6)(n)}}},function(e){e.O(0,[927,390,173,744],function(){return e(e.s=7406)}),_N_E=e.O()}]);