"use strict";(()=>{var e={};e.id=637,e.ids=[637],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3263:e=>{e.exports=import("firebase-admin/app")},2929:e=>{e.exports=import("firebase-admin/firestore")},4373:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{originalPathname:()=>E,patchFetch:()=>c,requestAsyncStorage:()=>u,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var r=a(2411),o=a(7081),i=a(6224),n=a(6855),p=e([n]);n=(p.then?(await p)():p)[0];let d=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/guests/[id]/route",pathname:"/api/guests/[id]",filename:"route",bundlePath:"app/api/guests/[id]/route"},resolvedPagePath:"C:\\Users\\jaime.andre\\Documents\\As Minhas Formas\\downloads\\gestor-convidados\\app\\api\\guests\\[id]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:u,staticGenerationAsyncStorage:l,serverHooks:g}=d,E="/api/guests/[id]/route";function c(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}s()}catch(e){s(e)}})},6855:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{DELETE:()=>p,PATCH:()=>n});var r=a(3120),o=a(1068),i=e([o]);async function n(e,{params:t}){try{let a=await e.json();await o.i.collection("guests").doc(t.id).update({...a,updatedAt:Date.now()});let s=await o.i.collection("guests").doc(t.id).get();return r.NextResponse.json({id:s.id,...s.data()})}catch(e){return r.NextResponse.json({error:e.message||"Erro ao atualizar."},{status:400})}}async function p(e,{params:t}){try{return await o.i.collection("guests").doc(t.id).delete(),r.NextResponse.json({ok:!0})}catch(e){return r.NextResponse.json({error:e.message||"Erro ao apagar."},{status:400})}}o=(i.then?(await i)():i)[0],s()}catch(e){s(e)}})},1068:(e,t,a)=>{a.a(e,async(e,s)=>{try{let n;a.d(t,{i:()=>p});var r=a(3263),o=a(2929),i=e([r,o]);if([r,o]=i.then?(await i)():i,(0,r.getApps)().length)n=(0,r.getApps)()[0];else{let e=process.env.FIREBASE_PRIVATE_KEY?.replace(/\\n/g,"\n");process.env.FIREBASE_PROJECT_ID&&process.env.FIREBASE_CLIENT_EMAIL&&e||console.warn("[firebase-admin] Credenciais incompletas. APIs protegidas podem falhar."),n=(0,r.initializeApp)({credential:(0,r.cert)({projectId:process.env.FIREBASE_PROJECT_ID,clientEmail:process.env.FIREBASE_CLIENT_EMAIL,privateKey:e})})}let p=(0,o.getFirestore)(n);s()}catch(e){s(e)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[860,642],()=>a(4373));module.exports=s})();